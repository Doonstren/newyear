// --- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ---

// --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç—ã –∏ —Å–µ–∑–æ–Ω–æ–≤ ---
const MONTHS_CONFIG = [
    // –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Å—è—Ü: –Ω–∞–∑–≤–∞–Ω–∏–µ, CSS-–∫–ª–∞—Å—Å –¥–ª—è —Ñ–æ–Ω–∞, —Å–µ–∑–æ–Ω, –∏–∫–æ–Ω–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ (–ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UI)
    { name: '–Ø–Ω–≤–∞—Ä—å', class: 'january', season: 'winter', icon: '‚ùÑÔ∏è' },
    { name: '–§–µ–≤—Ä–∞–ª—å', class: 'february', season: 'winter', icon: 'üå®Ô∏è' },
    { name: '–ú–∞—Ä—Ç', class: 'march', season: 'spring', icon: 'üå±' },
    { name: '–ê–ø—Ä–µ–ª—å', class: 'april', season: 'spring', icon: 'üå∑' },
    { name: '–ú–∞–π', class: 'may', season: 'spring', icon: 'üå∏' },
    { name: '–ò—é–Ω—å', class: 'june', season: 'summer', icon: '‚òÄÔ∏è' },
    { name: '–ò—é–ª—å', class: 'july', season: 'summer', icon: 'üèñÔ∏è' },
    { name: '–ê–≤–≥—É—Å—Ç', class: 'august', season: 'summer', icon: 'üåû' },
    { name: '–°–µ–Ω—Ç—è–±—Ä—å', class: 'september', season: 'autumn', icon: 'üçÅ' },
    { name: '–û–∫—Ç—è–±—Ä—å', class: 'october', season: 'autumn', icon: 'üçÇ' },
    { name: '–ù–æ—è–±—Ä—å', class: 'november', season: 'autumn', icon: 'üå´Ô∏è' },
    { name: '–î–µ–∫–∞–±—Ä—å', class: 'december', season: 'winter', icon: 'üéÑ' }
];

const SEASONS_CONFIG = {
    // –ù–∞–∑–≤–∞–Ω–∏—è —Å–µ–∑–æ–Ω–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    winter: { name: '–ó–∏–º–∞' },
    spring: { name: '–í–µ—Å–Ω–∞' },
    summer: { name: '–õ–µ—Ç–æ' },
    autumn: { name: '–û—Å–µ–Ω—å' }
};

// --- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∑–æ–Ω–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü ---
const PARTICLE_SYSTEM_SETTINGS = {
    // –ü–ª–æ—Ç–Ω–æ—Å—Ç—å —á–∞—Å—Ç–∏—Ü: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü = (—à–∏—Ä–∏–Ω–∞_—ç–∫—Ä–∞–Ω–∞ * –≤—ã—Å–æ—Ç–∞_—ç–∫—Ä–∞–Ω–∞) / BASE_COUNT_DIVIDER
    // –ú–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ -> –±–æ–ª—å—à–µ —á–∞—Å—Ç–∏—Ü.
    BASE_COUNT_DIVIDER: 12000, // –†–∞–Ω–µ–µ –±—ã–ª–æ PARTICLE_SETTINGS.BASE_COUNT_FACTOR
    MIN_PARTICLES: 30,         // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    MAX_PARTICLES: 180,        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    // –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ø–æ—Ä—Ü–∏–∏ —á–∞—Å—Ç–∏—Ü, –µ—Å–ª–∏ –∏—Ö —Å—Ç–∞–ª–æ –º–∞–ª–æ
    CREATION_INTERVAL_MS: 100,
    // –î–æ–ª—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–∏—Ü, –¥–æ–±–∞–≤–ª—è–µ–º–∞—è –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ (0.05 = 5%)
    ADD_PARTICLES_RATIO: 0.05,
    // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –±—É—Ñ–µ—Ä–Ω–æ–π –∑–æ–Ω—ã –∑–∞ —ç–∫—Ä–∞–Ω–æ–º, –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∑–∞ –∫–æ—Ç–æ—Ä—É—é —á–∞—Å—Ç–∏—Ü–∞ —É–¥–∞–ª—è–µ—Ç—Å—è
    // (—Ä–∞–∑–º–µ—Ä_—á–∞—Å—Ç–∏—Ü—ã * SCREEN_EXIT_BUFFER_MULTIPLIER)
    SCREEN_EXIT_BUFFER_MULTIPLIER: 2,
    // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–∏—Ü, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç "–¥–æ—Ä–∞—Å—Ç–∏—Ç—å" –∏—Ö —á–∏—Å–ª–æ
    MAX_PARTICLE_BUFFER_MULTIPLIER: 1.2 // 1.2 = –Ω–µ –±–æ–ª–µ–µ 120% –æ—Ç baseSeasonalParticleCount
};

// --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–µ–∑–æ–Ω–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü ---
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã —Å–∫–æ—Ä–æ—Å—Ç–µ–π, —Ä–∞–∑–º–µ—Ä–æ–≤, —Ü–≤–µ—Ç–æ–≤ –∏ —Ç.–¥.
// min/max –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ.
const SEASONAL_PARTICLES_CONFIG = {
    snow: {
        // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–∏—Ü –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ baseSeasonalParticleCount
        countMultiplier: { january: 0.8, february: 1.5, march: 0.3, december: 0.9, default: 1.0, newYear: 0.4 },
        radius: { min: 1.5, max: 4 },       // –†–∞–¥–∏—É—Å —Å–Ω–µ–∂–∏–Ω–∫–∏
        speed: { min: 0.6, max: 2.0 },       // –°–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è
        drift: { min: 0.4, max: 1.8 },       // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ (–¥—Ä–µ–π—Ñ)
        opacity: { min: 0.4, max: 0.8 },     // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
        arms: { min: 5, max: 8 },            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—É—á–µ–π (–¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
        detailChance: 0.6,                   // –®–∞–Ω—Å (0-1), —á—Ç–æ —Å–Ω–µ–∂–∏–Ω–∫–∞ –±—É–¥–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π
        turbulence: { min: 0.2, max: 0.7 },  // –°–∏–ª–∞ —Ç—É—Ä–±—É–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –º–µ—Ç–µ–ª–∏ (—Ñ–µ–≤—Ä–∞–ª—å)
        meltingChance: 0.03                  // –®–∞–Ω—Å —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞/–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–∞—é—â–µ–≥–æ —Å–Ω–µ–≥–∞
    },
    rain: {
        countMultiplier: { march: 0.7, april: 0.4, may_storm: 1.5, november: 0.8 },
        length: { min: 6, max: 25 },         // –î–ª–∏–Ω–∞ –∫–∞–ø–ª–∏
        speed: { min: 10, max: 25 },         // –°–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è
        opacity: { min: 0.15, max: 0.35 }    // –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
    },
    petal: {
        countMultiplier: { april: 0.25, may_calm: 0.1 },
        radius: { min: 3, max: 5 },
        drift: { min: 0.3, max: 0.7 },
        speed: { min: 0.7, max: 1.2 },
        colors: ['#FFB7C5', '#FF7BAC', '#FFC0CB', '#FFDBF1', '#ffffff'], // –¶–≤–µ—Ç–∞ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
        rotationSpeed: { min: -0.02, max: 0.02 } // –°–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è
    },
    bud: { // –ü–æ—á–∫–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π
        countMultiplier: { april: 0.15 },
        radius: { min: 1, max: 2.5 },
        color: '#90EE90',
        opacity: { min: 0.6, max: 0.9 },
        speed: { min: 0.1, max: 0.3 },
        drift: { min: 0.1, max: 0.3 }
    },
    lightning: { // –ú–æ–ª–Ω–∏—è
        count: { min: 2, max: 4 },           // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö "–æ—Å–Ω–æ–≤–Ω—ã—Ö" —Ä–∞–∑—Ä—è–¥–æ–≤
        opacity: 0.9,
        // –í—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É–¥–∞—Ä–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –º–æ–ª–Ω–∏–∏ (–≤ –º—Å)
        nextStrikeDelay: { min: 3000, max: 8000 },
        // –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–µ—Ä–≤–æ–π —Å–µ—Ä–∏–∏ –º–æ–ª–Ω–∏–π (–≤ –º—Å)
        initialStrikeDelayMax: 3000
    },
    butterfly: {
        countMultiplier: { may_calm: 0.1, june: 0.1 },
        size: { min: 5, max: 12 },
        speed: { min: 1, max: 2.2 },
        wingSpeed: { min: 0.1, max: 0.22 }, // –°–∫–æ—Ä–æ—Å—Ç—å –º–∞—Ö–∞–Ω–∏—è –∫—Ä—ã–ª—å—è–º–∏
        colors: ['#FFD700', '#FF6347', '#9370DB', '#20B2AA', '#FFB6C1', '#87CEEB']
    },
    ladybug: { // –ë–æ–∂—å—è –∫–æ—Ä–æ–≤–∫–∞
        countMultiplier: { may_calm: 0.05 },
        size: { min: 3, max: 8 },
        speed: { min: 0.7, max: 1.5 },
        spots: { min: 3, max: 7 },           // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫
        wiggleSpeedFactor: { min: 0.005, max: 0.01 }, // –°–∫–æ—Ä–æ—Å—Ç—å "–ø–æ–∫–∞—á–∏–≤–∞–Ω–∏—è"
        wiggleAmountFactor: { min: 0.3, max: 0.5 }   // –ê–º–ø–ª–∏—Ç—É–¥–∞ "–ø–æ–∫–∞—á–∏–≤–∞–Ω–∏—è"
    },
    pollen: { // –ü—ã–ª—å—Ü–∞
        countMultiplier: { may_calm: 0.15 },
        radius: { min: 0.5, max: 1.5 },
        speed: { min: 0.2, max: 0.5 }, // –ó–¥–µ—Å—å speed - —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ö–∞–æ—Ç–∏—á–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
        drift: { min: 0.2, max: 0.5 },
        opacity: { min: 0.3, max: 0.7 },
        color: '#FFFF99'
    },
    sunflare: { // –°–æ–ª–Ω–µ—á–Ω—ã–µ –±–ª–∏–∫–∏
        countMultiplier: { june: 0.2, july: 0.25, august: 0.22 },
        radius: { min: 1.5, max: 4 },
        opacity: { min: 0.1, max: 0.45 },
        // speed –∑–¥–µ—Å—å - —ç—Ç–æ —á–∞—Å—Ç–æ—Ç–∞ –º–µ—Ä—Ü–∞–Ω–∏—è –¥–ª—è Math.sin(Date.now() * p.speed ...)
        twinkleSpeedBase: { min: 0.0008, max: 0.002 },
        colorDay: '#FFFFFF',
        colorEvening: '#FFFFCC', // –î–ª—è –∏—é–ª—è/–∞–≤–≥—É—Å—Ç–∞
        eveningColorChance: 0.3 // –®–∞–Ω—Å –∂–µ–ª—Ç–æ–≤–∞—Ç–æ–≥–æ –±–ª–∏–∫–∞
    },
    dandelion: { // –ü—É—à–∏–Ω–∫–∏ –æ–¥—É–≤–∞–Ω—á–∏–∫–∞
        countMultiplier: { june: 0.15 },
        radius: { min: 1, max: 3 }, // –†–∞–¥–∏—É—Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏
        opacity: { min: 0.6, max: 1.0 },
        speed: { min: 0.3, max: 0.6 },
        drift: { min: 0.5, max: 1.0 }
    },
    cloud: { // –û–±–ª–∞–∫–∞
        // countMultiplier –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–ª–∞–∫–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ (–∏–ª–∏ –º–∞–ª–æ)
        countMax: 3, // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–ª–∞–∫–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
        width: { min: 120, max: 300 },
        height: { min: 60, max: 150 },
        speed: { min: 0.3, max: 0.8 },
        opacity: { min: 0.6, max: 1.0 }
    },
    dragonfly: { // –°—Ç—Ä–µ–∫–æ–∑—ã
        countMultiplier: { july: 0.02, august: 0.04 }, // –ë—ã–ª–æ 0.02 –¥–ª—è –∏—é–ª—è
        size: { min: 8, max: 20 },
        speed: { min: 2, max: 3.5 },
        wingSpeed: { min: 0.3, max: 0.45 }
    },
    heat: { // –ú–∞—Ä–µ–≤–æ
        countMultiplier: { august: 0.3 },
        radius: { min: 30, max: 80 },
        opacity: { min: 0.03, max: 0.07 },
        speed: { min: 0.1, max: 0.25 } // –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–¥—ä–µ–º–∞
    },
    leaf: { // –õ–∏—Å—Ç—å—è
        countMultiplier: { september: 0.3, october: 0.8, november: 0.4 },
        radius: { min: 4, max: 12 }, // –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–º–µ—Ä –ª–∏—Å—Ç–∞
        speed: { min: 0.8, max: 2.2 },
        drift: { min: 0.5, max: 1.8 },
        rotationSpeed: { min: -0.02, max: 0.02 },
        swingFactor: { min: 0.1, max: 0.35 }, // –§–∞–∫—Ç–æ—Ä "–∫–∞—á–∞–Ω–∏—è" –ª–∏—Å—Ç–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
        colors: {
            september: ['#FFAA33', '#FFCC66', '#FF9900', '#FFBB33'],
            october: ['#8B4513', '#A0522D', '#CD853F', '#D2691E', '#F4A460', '#B8860B', '#DAA520'],
            november: ['#805A46', '#7D4427', '#5C4033', '#8B5A2B', '#654321']
        },
        shapeVariety: 3 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞—Ü–∏–π —Ñ–æ—Ä–º—ã –ª–∏—Å—Ç–∞ (0 –¥–æ shapeVariety-1)
    },
    mist: { // –¢—É–º–∞–Ω (–æ—Å–µ–Ω–Ω–∏–π)
        countMultiplier: { march: 0.2, november: 0.4 },
        radius: { min: 40, max: 80 },
        opacity: { min: 0.05, max: 0.1 },
        speed: { min: 0.05, max: 0.15 } // –°–∫–æ—Ä–æ—Å—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
    },
    twinkle: { // –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –æ–≥–æ–Ω—å–∫–∏/–±–ª–µ—Å—Ç–∫–∏
        countMultiplier: { newYear: 0.3 }, // –¢–æ–ª—å–∫–æ –¥–ª—è –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞
        radius: { min: 1, max: 3 },
        opacity: { min: 0.4, max: 1.0 },
        colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff'],
        // speed –∑–¥–µ—Å—å - —ç—Ç–æ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ö–∞–æ—Ç–∏—á–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
        moveSpeedFactor: { min: 0.001, max: 0.002 },
        // twinkleSpeed - —á–∞—Å—Ç–æ—Ç–∞ –º–µ—Ä—Ü–∞–Ω–∏—è –¥–ª—è Math.sin
        twinkleFrequency: { min: 0.03, max: 0.06 }
    },
    confetti: { // –ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        countMultiplier: { newYear: 0.3 }, // –¢–æ–ª—å–∫–æ –¥–ª—è –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞
        radius: { min: 2, max: 6 }, // –†–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        speed: { min: 1, max: 4 },   // –ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è
        drift: { min: 0.5, max: 1.5 },
        rotationSpeed: { min: -0.05, max: 0.05 },
        colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff', '#ff9900'],
        shapeVariety: 3 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ (0 –¥–æ shapeVariety-1)
    }
};

// --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤ ---
const FIREWORK_SYSTEM_SETTINGS = { // –†–∞–Ω–µ–µ FIREWORK_SETTINGS
    // –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤—ã—Ö —Ä–∞–∫–µ—Ç —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
    ROCKET_LAUNCH_INTERVAL_MS: 850,
    // –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤
    FRAME_RATE: 60.0,
    // –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —è—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–∑—Ä—ã–≤–æ–≤ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤
    EXPLOSION_COLORS: ['#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff', '#ffac00', '#ff3377', '#33ff77', '#9900ff'],
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∫–µ—Ç—ã
    rocket: {
        speed: { min: 800, max: 1200 },     // –ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∫–µ—Ç—ã
        gravity: 0.5,                       // –í–ª–∏—è–Ω–∏–µ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –Ω–∞ —Ä–∞–∫–µ—Ç—É
        trailLength: 10,                    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–ª–µ–¥–∞ –æ—Ç —Ä–∞–∫–µ—Ç—ã
        size: 3,                            // –†–∞–∑–º–µ—Ä "–≥–æ–ª–æ–≤—ã" —Ä–∞–∫–µ—Ç—ã
        // –î–æ–ª—è –ø—É—Ç–∏ –¥–æ —Ü–µ–ª–∏ (0-1), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∫–µ—Ç–∞ –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è (0.8 = –Ω–∞ 80% –ø—É—Ç–∏)
        explosionPointRatio: 0.8
    },
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∞—Å—Ç–∏—Ü –≤–∑—Ä—ã–≤–∞
    explosionParticle: {
        count: { min: 30, max: 70 },        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü –ø—Ä–∏ –æ–¥–Ω–æ–º –≤–∑—Ä—ã–≤–µ
        speed: { min: 300, max: 600 },      // –ù–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–ª–µ—Ç–∞ —á–∞—Å—Ç–∏—Ü
        gravity: 0.8,                       // –í–ª–∏—è–Ω–∏–µ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –Ω–∞ —á–∞—Å—Ç–∏—Ü—ã
        opacityDecay: 0.03,                 // –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞—Ç—É—Ö–∞–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–∏—Ü
        // –í—Ä–µ–º—è –≤ —Ç–∏–∫–∞—Ö (1 —Ç–∏–∫ = 1 –∫–∞–¥—Ä), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
        // (1200 / ms_per_frame). –ü—Ä–∏ 60fps, ms_per_frame ~16.67. 1200/16.67 ~ 72 —Ç–∏–∫–∞.
        decayStartTicksThresholdFactor: 1200,
        trailLength: 5,                     // –î–ª–∏–Ω–∞ —Å–ª–µ–¥–∞ –¥–ª—è —á–∞—Å—Ç–∏—Ü —Ç–∏–ø–∞ 3 –∏ 4
        size: 2.5,                          // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏—Ü—ã (–¥–ª—è –∫—Ä—É–≥–ª—ã—Ö)
        lineWidth: 2                        // –¢–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–π –¥–ª—è —á–∞—Å—Ç–∏—Ü —Ç–∏–ø–∞ 3
    },
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–∫—Ä (–¥–ª—è —Ç–∏–ø–∞ –≤–∑—Ä—ã–≤–∞ "–±–µ–Ω–≥–∞–ª—å—Å–∫–∏–π –æ–≥–æ–Ω—å")
    sparkler: {
        speedFactor: 1.5,                   // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–∑–ª–µ—Ç–∞ –∏—Å–∫—Ä
        lifeTicks: { min: 5, max: 12 }      // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏—Å–∫—Ä—ã –≤ —Ç–∏–∫–∞—Ö
    }
};

// --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≥–∏—Ä–ª—è–Ω–¥ ---
const GARLAND_SETTINGS = {
    // –¶–≤–µ—Ç–∞ –ª–∞–º–ø–æ—á–µ–∫ –¥–ª—è –≥–∏—Ä–ª—è–Ω–¥
    LIGHT_COLORS: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff'],
    // –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ª–∞–º–ø–æ—á–µ–∫: –æ–¥–Ω–∞ –ª–∞–º–ø–æ—á–∫–∞ –Ω–∞ LIGHT_DENSITY_DIVIDER –ø–∏–∫—Å–µ–ª–µ–π
    LIGHT_DENSITY_DIVIDER: 40,
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –º–µ—Ä—Ü–∞–Ω–∏—è –ª–∞–º–ø–æ—á–µ–∫ (CSS animation 'gentleTwinkle')
    twinkleAnimation: {
        durationSeconds: 2
        // –î—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ (–º–∞—Å—à—Ç–∞–±, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å) –∑–∞–¥–∞—é—Ç—Å—è –≤ CSS
    }
};

// --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ ---
// –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ min/max
function getRandomInRange(min, max) {
    return Math.random() * (max - min) + min;
}
function getRandomIntInRange(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}